---
import Button from './Button.astro';
import BackgroundDecorations from './BackgroundDecorations.astro';

interface Props {
	// Currently no props required, but interface is here for future extensibility
}

const {} = Astro.props;
---

<section class="hero" id="main-content">
	<BackgroundDecorations />

	<div class="container">
		<div class="hero-grid">
			<div class="hero-left">
				<div class="hero-badge">
					<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
						<polyline points="20 6 9 17 4 12"></polyline>
					</svg>
					Free & Open Methodology
				</div>

				<h1 class="hero-title">
					Build Better Software with<br />
					<span class="highlight-text">
						Spec-Driven Development
						<span class="ghost-container">
							<svg class="ghost-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
								<path d="M12 2C8.69 2 6 4.69 6 8V15C6 15.55 6.45 16 7 16C7.55 16 8 15.55 8 15V8C8 5.79 9.79 4 12 4C14.21 4 16 5.79 16 8V15C16 15.55 16.45 16 17 16C17.55 16 18 15.55 18 15V8C18 4.69 15.31 2 12 2Z" fill="currentColor"/>
								<path d="M18 14V20C18 20.55 17.55 21 17 21C16.45 21 16 21.45 16 22C16 22.55 15.55 23 15 23C14.45 23 14 22.55 14 22C14 21.45 13.55 21 13 21C12.45 21 12 21.45 12 22C12 22.55 11.55 23 11 23C10.45 23 10 22.55 10 22C10 21.45 9.55 21 9 21C8.45 21 8 21.45 8 22C8 22.55 7.55 23 7 23C6.45 23 6 22.55 6 22C6 21.45 5.55 21 5 21C4.45 21 4 20.55 4 20V14C4 13.45 4.45 13 5 13C5.55 13 6 13.45 6 14V15C6 15.55 6.45 16 7 16C7.55 16 8 15.55 8 15V14C8 13.45 8.45 13 9 13C9.55 13 10 13.45 10 14V15C10 15.55 10.45 16 11 16C11.55 16 12 15.55 12 15V14C12 13.45 12.45 13 13 13C13.55 13 14 13.45 14 14V15C14 15.55 14.45 16 15 16C15.55 16 16 15.55 16 15V14C16 13.45 16.45 13 17 13C17.55 13 18 13.45 18 14Z" fill="currentColor"/>
								<circle cx="9.5" cy="9" r="1.5" fill="#1a1a1a"/>
								<circle cx="14.5" cy="9" r="1.5" fill="#1a1a1a"/>
							</svg>
						</span>
					</span>
				</h1>

				<p class="hero-subtitle">
					Stop wasting time on unclear requirements and scope creep. Plan before you build with structured specifications that transform AI-assisted coding from chaotic to confident.
				</p>

				<div class="hero-cta">
					<a href="/downloads/spec-architect.md" download="spec-architect.md" class="btn btn-primary btn-lg" role="button">
						<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
							<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
							<polyline points="7 10 12 15 17 10"></polyline>
							<line x1="12" y1="15" x2="12" y2="3"></line>
						</svg>
						Download Free Agent
					</a>
					<Button href="#what-is-sdd" variant="secondary" size="lg">
						Learn More
					</Button>
				</div>

				<div class="hero-note">
					<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
						<circle cx="12" cy="12" r="10"></circle>
						<path d="M12 16v-4"></path>
						<path d="M12 8h.01"></path>
					</svg>
					Works with Claude Code • No signup required • 29KB download
				</div>

				<!-- Stats integrated below left content -->
				<div class="stats-inline">
					<span class="stat-item"><strong>10x</strong> faster planning</span>
					<span class="stat-divider">•</span>
					<span class="stat-item"><strong>85%</strong> fewer rewrites</span>
					<span class="stat-divider">•</span>
					<span class="stat-item"><strong>100%</strong> team aligned</span>
				</div>
			</div>

			<div class="hero-right">
				<div class="journey-path">
					<!-- Vertical connector line -->
					<div class="journey-line"></div>

					<!-- Waypoint 1: Requirements -->
					<div class="waypoint waypoint-1">
						<div class="waypoint-number">1</div>
						<div class="waypoint-content">
							<div class="waypoint-icon requirements">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path d="M17.47 3.4502V6.7802H6.54V3.4502H2.75V21.9402H21.25V3.4502H17.47ZM9.17 11.8202L9.62 12.4102L10.89 14.0602L14.99 10.1902L16.02 11.2802L15.47 11.8002L11.31 15.7202L10.71 16.2802L8.44 13.3302L7.98 12.7302L9.17 11.8202Z"/>
									<path d="M15.97 4.0998V5.2798H8.03003V4.1098H9.55003L9.76003 3.6998L10.59 2.0498H13.43L14.24 3.6798L14.44 4.0798H14.9L15.97 4.0998Z"/>
								</svg>
							</div>
							<div class="waypoint-text">
								<div class="waypoint-title">Requirements</div>
								<div class="waypoint-desc">Define goals & scope</div>
							</div>
						</div>
					</div>

					<!-- Waypoint 2: Design -->
					<div class="waypoint waypoint-2">
						<div class="waypoint-number">2</div>
						<div class="waypoint-content">
							<div class="waypoint-icon design">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path d="M14.8397 8.90027L15.1597 12.1803C17.6797 9.06027 20.4697 4.55027 21.1297 3.44027L20.9797 2.69027L20.2297 2.53027C19.1297 3.20027 14.5597 6.02027 11.4297 8.56027L14.8297 8.89027L14.8397 8.90027Z"/>
									<path d="M4.12043 14.8699C5.42043 13.5699 7.55043 13.5799 8.87043 14.8999C10.1904 16.2199 10.2004 18.3499 8.90043 19.6499C8.69043 19.8599 8.47043 20.0199 8.24043 20.1599C7.81043 20.4199 7.34043 20.5699 6.85043 20.5999L6.53043 20.6199L2.94043 20.8299L3.15043 17.2599L3.18043 16.8699C3.22043 16.3999 3.37043 15.9399 3.61043 15.5299C3.75043 15.2899 3.91043 15.0799 4.12043 14.8699Z"/>
									<path d="M13.4602 10.2797L9.89016 9.92969L7.66016 12.5797C7.77016 12.6097 8.73016 12.7197 9.88016 13.8697C10.9002 14.8897 11.0902 15.8197 11.1402 15.9997L13.8002 13.7297L13.4602 10.2697V10.2797Z"/>
								</svg>
							</div>
							<div class="waypoint-text">
								<div class="waypoint-title">Design</div>
								<div class="waypoint-desc">Plan architecture</div>
							</div>
						</div>
					</div>

					<!-- Waypoint 3: Tasks -->
					<div class="waypoint waypoint-3">
						<div class="waypoint-number">3</div>
						<div class="waypoint-content">
							<div class="waypoint-icon tasks">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path opacity="0.4" d="M15 2H2V22H22V11.98" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="square"/>
									<path d="M9 11.0002L11.67 13.8802L21 5.24023" stroke="currentColor" stroke-width="1.5" stroke-linecap="square"/>
								</svg>
							</div>
							<div class="waypoint-text">
								<div class="waypoint-title">Tasks</div>
								<div class="waypoint-desc">Break down work</div>
							</div>
						</div>
					</div>

					<!-- Waypoint 4: Build -->
					<div class="waypoint waypoint-4">
						<div class="waypoint-number">4</div>
						<div class="waypoint-content">
							<div class="waypoint-icon build">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path d="M18.3844 5.88828L13.668 1.17188L4.50387 10.336L9.22027 15.0524L18.3844 5.88828Z"/>
									<path fill-rule="evenodd" clip-rule="evenodd" d="M7.17969 6.93934L12.6804 12.44L11.6197 13.5007L6.11903 8L7.17969 6.93934Z"/>
									<path fill-rule="evenodd" clip-rule="evenodd" d="M11.3281 2.77918L16.8288 8.27985L15.7681 9.34051L10.2675 3.83984L11.3281 2.77918Z"/>
									<path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 21.25H14.51V22.75H1.25V21.25Z"/>
									<path d="M3 20.9999L4.38 18.6699H11.4L12.77 20.9999"/>
									<path d="M12.4102 12.5899L21.5901 18.0699L15.8302 9.16992"/>
								</svg>
							</div>
							<div class="waypoint-text">
								<div class="waypoint-title">Build</div>
								<div class="waypoint-desc">AI implements it</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	.hero {
		min-height: 90vh;
		display: flex;
		align-items: center;
		justify-content: center;
		padding: var(--space-16) 0 var(--space-16) 0;
		background:
			radial-gradient(circle at center, rgba(0, 0, 0, 0.12) 1.5px, transparent 1.5px),
			linear-gradient(180deg, #E5D4ED 0%, #D8C8E3 100%);
		background-size: 32px 32px, 100% 100%;
		background-position: 0 0, 0 0;
		text-align: center;
		position: relative;
		overflow: hidden;
		border-bottom: var(--border-width) solid var(--color-border);
	}

	.container {
		position: relative;
		z-index: 10;
	}

	.hero-grid {
		display: grid;
		grid-template-columns: 1.4fr 1fr;
		gap: var(--space-12);
		align-items: center;
	}

	.hero-left {
		text-align: left;
	}

	.hero-right {
		display: flex;
		justify-content: flex-end;
		align-items: center;
	}

	.hero-badge {
		display: inline-flex;
		align-items: center;
		gap: var(--space-2);
		padding: var(--space-2) var(--space-4);
		background: var(--color-white);
		border: var(--border-width) solid var(--color-border);
		border-radius: 100px;
		font-size: var(--text-sm);
		font-weight: 700;
		margin-bottom: var(--space-12);
		box-shadow: var(--shadow-brutal-sm);
	}

	.hero-badge svg {
		color: var(--color-success);
	}

	.hero-title {
		font-size: clamp(1.5rem, 3.5vw, 2rem);
		line-height: 1.2;
		margin-bottom: var(--space-4);
		font-weight: 700;
		letter-spacing: -0.01em;
		color: var(--color-gray-800);
	}

	.highlight-text {
		display: block;
		font-size: clamp(4rem, 10vw, 6.5rem);
		font-weight: 900;
		line-height: 0.95;
		letter-spacing: -0.05em;
		color: var(--color-gray-900);
		margin-top: var(--space-4);
		margin-bottom: var(--space-16);
		position: relative;
	}

	.ghost-container {
		position: absolute;
		top: -26%;
		right: 23%;
		display: inline-block;
		z-index: -1;
		animation: ghostFloat 3s ease-in-out infinite;
	}

	.ghost-icon {
		color: rgba(255, 255, 255, 0.95);
		filter: drop-shadow(0 4px 12px rgba(124, 58, 237, 0.4));
		transform-origin: center bottom;
	}

	.hero-subtitle {
		font-size: var(--text-lg);
		line-height: 1.8;
		color: #4a4a5e;
		margin-bottom: var(--space-12);
	}

	/* Journey Path - Cleaner vertical timeline */
	.journey-path {
		position: relative;
		width: 100%;
		max-width: 340px;
		padding: var(--space-4) 0;
	}

	.journey-line {
		position: absolute;
		left: 18px;
		top: 60px;
		bottom: 60px;
		width: 2px;
		background: rgba(0, 0, 0, 0.1);
		z-index: 0;
	}

	.waypoint {
		position: relative;
		display: flex;
		align-items: flex-start;
		gap: var(--space-4);
		margin-bottom: var(--space-16);
		z-index: 1;
	}

	.waypoint:last-child {
		margin-bottom: 0;
	}

	.waypoint-number {
		width: 40px;
		height: 40px;
		border-radius: 50%;
		background: var(--color-primary);
		border: var(--border-width) solid var(--color-border);
		display: flex;
		align-items: center;
		justify-content: center;
		font-weight: 900;
		font-size: var(--text-lg);
		color: var(--color-white);
		flex-shrink: 0;
		box-shadow: var(--shadow-brutal-sm);
		z-index: 2;
		position: relative;
	}

	.waypoint-content {
		display: flex;
		align-items: center;
		gap: var(--space-3);
		flex: 1;
		background: rgba(255, 255, 255, 0.85);
		backdrop-filter: blur(8px);
		border: var(--border-width) solid var(--color-border);
		border-radius: 12px;
		padding: var(--space-3) var(--space-4);
		box-shadow: var(--shadow-sm);
		transition: all var(--transition-base);
	}

	.waypoint-content:hover {
		background: rgba(255, 255, 255, 0.95);
		box-shadow: var(--shadow-brutal-sm);
		transform: translateX(4px);
	}

	.waypoint-icon {
		width: 44px;
		height: 44px;
		border-radius: 10px;
		border: var(--border-width) solid var(--color-border);
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0;
		background: var(--color-white);
		transition: all var(--transition-base);
	}

	.waypoint-content:hover .waypoint-icon {
		transform: scale(1.05);
	}

	.waypoint-icon svg {
		width: 20px;
		height: 20px;
		display: block;
	}

	.waypoint-icon.requirements,
	.waypoint-icon.design,
	.waypoint-icon.tasks,
	.waypoint-icon.build {
		color: var(--color-gray-700);
	}

	.waypoint-text {
		flex: 1;
	}

	.waypoint-title {
		font-size: var(--text-base);
		font-weight: 800;
		color: var(--color-gray-900);
		line-height: 1.2;
		margin-bottom: var(--space-1);
	}

	.waypoint-desc {
		font-size: var(--text-sm);
		color: var(--color-text-secondary);
		font-weight: 500;
		line-height: 1.3;
	}

	/* Inline Stats - Subtle integration */
	.stats-inline {
		margin-top: var(--space-8);
		padding-top: var(--space-8);
		border-top: 1px solid rgba(0, 0, 0, 0.08);
		display: flex;
		align-items: center;
		gap: var(--space-3);
		flex-wrap: wrap;
		font-size: var(--text-sm);
		color: var(--color-text-secondary);
	}

	.stat-item {
		font-weight: 500;
	}

	.stat-item strong {
		font-weight: 950;
		color: var(--color-primary);
		font-size: var(--text-2xl);
	}

	.stat-divider {
		color: rgba(0, 0, 0, 0.15);
		font-weight: 400;
	}

	.hero-cta {
		display: flex;
		gap: var(--space-4);
		flex-wrap: wrap;
		margin-bottom: var(--space-8);
	}

	.hero-note {
		display: flex;
		align-items: center;
		gap: var(--space-2);
		font-size: var(--text-sm);
		color: var(--color-text-secondary);
	}

	.hero-note svg {
		color: var(--color-primary);
		flex-shrink: 0;
	}

	/* Responsive */
	@media (max-width: 1024px) {
		.hero-grid {
			grid-template-columns: 1fr;
			gap: var(--space-12);
		}

		.hero-left {
			text-align: center;
		}

		.hero-right {
			justify-content: center;
		}

		.journey-path {
			max-width: 360px;
		}

		.hero-cta {
			justify-content: center;
		}

		.hero-note {
			justify-content: center;
		}

		.stats-inline {
			justify-content: center;
		}
	}

	@media (max-width: 768px) {
		.hero-right {
			display: none;
		}

		.stats-inline {
			display: none;
		}
	}

	@media (max-width: 640px) {
		.hero-cta {
			flex-direction: column;
		}

		.journey-path {
			max-width: 100%;
		}

		.stats-inline {
			flex-direction: column;
			align-items: flex-start;
			gap: var(--space-2);
		}

		.stat-divider {
			display: none;
		}
	}

	/* Animations */
	@keyframes ghostFloat {
		0%, 100% {
			transform: translateY(0px) rotate(-5deg);
		}
		50% {
			transform: translateY(-15px) rotate(5deg);
		}
	}

	@keyframes ghostAppear {
		0% {
			opacity: 0;
			transform: translateY(20px) scale(0.5);
		}
		60% {
			transform: translateY(-10px) scale(1.1);
		}
		100% {
			opacity: 1;
			transform: translateY(0) scale(1);
		}
	}
</style>
