---
import DonationModal from '../components/modals/DonationModal.astro';

interface Props {
	title?: string;
	description?: string;
}

const {
	title = 'Spec-Driven Development | Build Better Software with AI',
	description = 'Learn how spec-driven development transforms AI-assisted coding. Plan before you build with structured requirements, design, and tasks.'
} = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />

		<!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="title" content={title} />
		<meta name="description" content={description} />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://buildwithspecs.com/" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content="https://buildwithspecs.com/og-image.png" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:image:alt" content="Build with Specs - Spec-Driven Development with ghost mascot" />

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content="https://buildwithspecs.com/" />
		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description} />
		<meta property="twitter:image" content="https://buildwithspecs.com/og-image.png" />
		<meta property="twitter:image:alt" content="Build with Specs - Spec-Driven Development with ghost mascot" />

		<!-- Skip to main content for accessibility -->
		<a href="#main-content" class="skip-link">Skip to main content</a>
	</head>
	<body>
		<slot />
		<DonationModal />
	</body>
</html>

<style is:global>
	/* =========================================
	   CSS CUSTOM PROPERTIES - DESIGN SYSTEM
	   ========================================= */
	:root {
		/* Colors - Neobrutalist Pastel Palette */
		--color-primary: #6366f1; /* Soft indigo */
		--color-primary-light: #a5b4fc;
		--color-primary-dark: #4f46e5;

		--color-accent: #fbbf24; /* Warm yellow */
		--color-accent-light: #fde68a;

		--color-success: #34d399; /* Mint green */
		--color-danger: #f87171; /* Soft red */
		--color-info: #60a5fa; /* Soft blue */

		/* Pastels for backgrounds */
		--color-pastel-pink: #ECC6CD; /* Deeper mauve pink */
		--color-pastel-blue: #C6D9EC; /* Deeper soft blue */
		--color-pastel-green: #C6ECD4; /* Deeper mint green */
		--color-pastel-yellow: #F5E8B7; /* Deeper cream yellow */
		--color-pastel-purple: #DCC6EC; /* Deeper lavender */

		/* Neutrals */
		--color-white: #ffffff;
		--color-gray-50: #fafafa;
		--color-gray-100: #f5f5f5;
		--color-gray-200: #e5e5e5;
		--color-gray-300: #d4d4d4;
		--color-gray-400: #a3a3a3;
		--color-gray-500: #737373;
		--color-gray-600: #525252;
		--color-gray-700: #404040;
		--color-gray-800: #262626;
		--color-gray-900: #171717;

		/* Semantic Colors */
		--color-background: var(--color-gray-50);
		--color-surface: var(--color-white);
		--color-text-primary: var(--color-gray-900);
		--color-text-secondary: var(--color-gray-600);
		--color-text-muted: var(--color-gray-500);
		--color-border: var(--color-gray-900);

		/* Typography - Font Families */
		--font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
		--font-mono: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;

		/* Typography - Font Sizes (Fluid) */
		--text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
		--text-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
		--text-base: clamp(1rem, 0.95rem + 0.25vw, 1.125rem);
		--text-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
		--text-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
		--text-2xl: clamp(1.5rem, 1.3rem + 1vw, 1.875rem);
		--text-3xl: clamp(1.875rem, 1.6rem + 1.375vw, 2.25rem);
		--text-4xl: clamp(2.25rem, 1.9rem + 1.75vw, 3rem);
		--text-5xl: clamp(3rem, 2.5rem + 2.5vw, 3.75rem);

		/* Spacing */
		--space-1: 0.25rem;
		--space-2: 0.5rem;
		--space-3: 0.75rem;
		--space-4: 1rem;
		--space-5: 1.25rem;
		--space-6: 1.5rem;
		--space-8: 2rem;
		--space-10: 2.5rem;
		--space-12: 3rem;
		--space-16: 4rem;
		--space-20: 5rem;
		--space-24: 6rem;
		--space-32: 8rem;

		/* Layout */
		--container-max: 1200px;
		--container-narrow: 800px;
		--border-radius: 1.5rem; /* Soft, rounded corners */
		--border-radius-sm: 0.5rem;
		--border-radius-md: 1rem;
		--border-radius-lg: 2rem;
		--border-width: 3px; /* Bold neobrutalist borders */

		/* Shadows */
		--shadow-sm: 2px 2px 0 var(--color-gray-900);
		--shadow-brutal: 6px 6px 0 var(--color-gray-900);
		--shadow-brutal-sm: 4px 4px 0 var(--color-gray-900);
		--shadow-brutal-xs: 2px 2px 0 var(--color-gray-900);
		--shadow-brutal-lg: 8px 8px 0 var(--color-gray-900);

		/* Z-index Scale */
		--z-base: 1;
		--z-dropdown: 100;
		--z-sticky: 200;
		--z-fixed: 300;
		--z-modal-backdrop: 400;
		--z-modal: 500;
		--z-popover: 600;
		--z-tooltip: 700;
		--z-notification: 800;
		--z-max: 9999;

		/* Transitions */
		--transition-fast: 150ms ease-in-out;
		--transition-base: 250ms ease-in-out;
		--transition-slow: 350ms ease-in-out;

		/* Breakpoints (for reference - use in media queries) */
		--breakpoint-sm: 640px;
		--breakpoint-md: 768px;
		--breakpoint-lg: 1024px;
		--breakpoint-xl: 1280px;
	}

	/* =========================================
	   CSS RESET
	   ========================================= */
	*, *::before, *::after {
		box-sizing: border-box;
		margin: 0;
		padding: 0;
	}

	html {
		scroll-behavior: smooth;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	body {
		font-family: var(--font-sans);
		font-size: var(--text-base);
		line-height: 1.6;
		color: var(--color-text-primary);
		background-color: var(--color-background);
		min-height: 100vh;
	}

	/* =========================================
	   TYPOGRAPHY
	   ========================================= */
	h1, h2, h3, h4, h5, h6 {
		line-height: 1.2;
		font-weight: 700;
		color: var(--color-text-primary);
	}

	h1 {
		font-size: var(--text-5xl);
		margin-bottom: var(--space-6);
	}

	h2 {
		font-size: var(--text-4xl);
		margin-bottom: var(--space-5);
	}

	h3 {
		font-size: var(--text-3xl);
		margin-bottom: var(--space-4);
	}

	h4 {
		font-size: var(--text-2xl);
		margin-bottom: var(--space-3);
	}

	p {
		margin-bottom: var(--space-4);
		color: var(--color-text-secondary);
	}

	a {
		color: var(--color-primary);
		text-decoration: none;
		transition: color var(--transition-fast);
	}

	a:hover {
		color: var(--color-primary-dark);
	}

	code {
		font-family: var(--font-mono);
		font-size: 0.9em;
		padding: 0.25rem 0.5rem;
		background-color: var(--color-pastel-yellow);
		color: var(--color-gray-900);
		border-radius: 0.5rem;
		border: 2px solid var(--color-gray-900);
	}

	/* =========================================
	   ACCESSIBILITY
	   ========================================= */
	.skip-link {
		position: absolute;
		top: -40px;
		left: 0;
		background: var(--color-primary);
		color: white;
		padding: var(--space-2) var(--space-4);
		text-decoration: none;
		z-index: 100;
	}

	.skip-link:focus {
		top: 0;
	}

	*:focus-visible {
		outline: 3px solid var(--color-primary);
		outline-offset: 2px;
	}

	/* Respect user motion preferences */
	@media (prefers-reduced-motion: reduce) {
		html {
			scroll-behavior: auto;
		}

		*, *::before, *::after {
			animation-duration: 0.01ms !important;
			animation-iteration-count: 1 !important;
			transition-duration: 0.01ms !important;
		}
	}

	/* =========================================
	   UTILITY CLASSES
	   ========================================= */
	.container {
		max-width: var(--container-max);
		margin-left: auto;
		margin-right: auto;
		padding-left: var(--space-4);
		padding-right: var(--space-4);
	}

	.container-narrow {
		max-width: var(--container-narrow);
		margin-left: auto;
		margin-right: auto;
		padding-left: var(--space-4);
		padding-right: var(--space-4);
	}

	.section {
		padding: var(--space-20) 0;
		border-bottom: var(--border-width) solid var(--color-border);
	}


	@media (min-width: 768px) {
		.section {
			padding: var(--space-32) 0;
		}
	}
</style>
